<?php include 'header.phtml'; ?>

<h2>Dashboard</h2>

<h3>Statistics</h3>

<ul>
    <li>
        Next review:

        <?php if (!$next_review_vocab): ?>
            <span>None</span>
        <?php else: ?>
            <span title="<?php echo $next_review_vocab->get_due_date()->format('Y-m-d H:i:s'); ?>">
            <?php echo $next_review_vocab->get_human_due_date(); ?>
            </span>
        <?php endif; ?>
    </li>
    <li>
        Due tomorrow:
        <span><?php echo Vocabulary::filter('in_set', $set)->filter('due_tomorrow')->count(); ?></span>
    </li>
</ul>

<h3>Levels</h3>

<ol>
    <li>
        Inactive:
        <?php echo Vocabulary::filter('in_set', $set)->filter('inactive')->count(); ?>
    </li>
    <li>
        Apprentice:
        <?php echo Vocabulary::filter('in_set', $set)->filter('level', 0, 3)->count(); ?>
    </li>
    <li>
        Guru:
        <?php echo Vocabulary::filter('in_set', $set)->filter('level', 4, 5)->count(); ?>
    </li>
    <li>
        Master:
        <?php echo Vocabulary::filter('in_set', $set)->filter('level', 6, 6)->count(); ?>
    </li>
    <li>
        Enlightened:
        <?php echo Vocabulary::filter('in_set', $set)->filter('level', 7, 7)->count(); ?>
    </li>
    <li>
        Burned:
        <?php echo Vocabulary::filter('in_set', $set)->filter('level', 8, 8)->count(); ?>
    </li>
</ol>

<h3>Sets</h3>

<ul>
    <?php foreach ($sets as $set): ?>
        <li<?php if ($set->id == $set->id): ?> class="active"<?php endif; ?>>
            <a href="<?php echo $set->get_permalink(); ?>"><?php echo htmlentities($set->name); ?></a>
            <?php echo $set->get_new_vocabularies()->count() + $set->get_due_vocabularies()->count(); ?>
        </li>
    <?php endforeach; ?>
    <li>
        <a href="<?php echo BASE_PATH; ?>create">Create Set</a>
    </li>
</ul>

<?php include 'footer.phtml'; ?>
